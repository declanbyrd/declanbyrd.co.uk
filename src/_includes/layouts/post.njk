{% extends 'layouts/base.njk' %}

{% block content %}
  <section>
    <style>
      {% include "css/syntax.css" %}
    </style>
    <article class="[ markdown-container max-width-80 ]">
      <h2>{{ title }}</h2>
      <time class="[ date ]" datetime="{{ page.date | htmlDateTime }}">{{page.date | readableDates}}</time>
      <ul class="[ horizontal-list ]">
        {% for tag in tags %}
          {%- if collections.tagList.indexOf(tag) != -1 -%}
            {% set tagUrl %}/tags/{{ tag | slug }}/{% endset %}
            <li class="[ tag ]">
              <svg width="20" height="20" role="img" aria-hidden="true" focusable="false" class="icon label">
                <use href="/assets/icons/icons.svg#label"></use>
              </svg>
              <a href="{{ tagUrl | url }}" class="[ hover-link ]">{{ tag }}</a>
            </li>
          {%- endif -%}
        {% endfor %}
      </ul>

      <hr>

      {{ content | safe }}
    </article>

    {% set previousPost = collections.posts | reverse | getPreviousCollectionItem(page) %}
    {% set nextPost = collections.posts | reverse | getNextCollectionItem(page) %}
    <section class="more-reading">
      {% if previousPost %}
        <div class="previous">
          <p>Previous Entry:</p>
          <a href="{{ previousPost.url }}">{{ previousPost.data.title }}</a>
        </div>
      {% endif %}
      {% if nextPost %}
        <div class="next">
          <p>Next Entry:</p>
          <a href="{{ nextPost.url }}">{{ nextPost.data.title }}</a>
        </div>
      {% endif %}
    </section>
  </section>
{% endblock %}